{"version":3,"sources":["../src/index.js"],"names":["defaultTagNames","t","types","inherits","visitor","JSXElement","path","stats","tagNames","opts","includes","node","openingElement","name","children","length","Error","body","isJSXText","replaceWith","stringLiteral","value"],"mappings":";;;;;;AAEA;;;;AACA;;;;;;AAEA,MAAMA,kBAAkB,CACtB,SADsB,CAAxB;;kBAIe,UAIT;AAAA,MAHGC,CAGH,QAHJC,KAGI;;AACJ,SAAO;AACLC,4CADK;AAELC,aAAS;AACPC,iBAAYC,IAAZ,EAA0BC,KAA1B,EAA+C;AAC7C,cAAMC,WAAWD,MAAME,IAAN,CAAWD,QAAX,IAAuBR,eAAxC;;AAEA,YAAI,CAACQ,SAASE,QAAT,CAAkBJ,KAAKK,IAAL,CAAUC,cAAV,CAAyBC,IAAzB,CAA8BA,IAAhD,CAAL,EAA4D;AAC1D;AACD;;AAED,YAAIP,KAAKK,IAAL,CAAUG,QAAV,CAAmBC,MAAnB,KAA8B,CAAlC,EAAqC;AACnC,gBAAM,IAAIC,KAAJ,CAAU,4BAAV,CAAN;AACD;;AAED,cAAMC,OAAOX,KAAKK,IAAL,CAAUG,QAAV,CAAmB,CAAnB,CAAb;;AAEA,YAAI,CAACb,EAAEiB,SAAF,CAAYD,IAAZ,CAAL,EAAwB;AACtB,gBAAM,IAAID,KAAJ,CAAU,4BAAV,CAAN;AACD;;AAEDV,aAAKa,WAAL,CACElB,EAAEmB,aAAF,CAAgBH,KAAKI,KAArB,CADF;AAGD;AArBM;AAFJ,GAAP;AA0BD,C","file":"index.js","sourcesContent":["// @flow\n\nimport babelPluginJsxSyntax from 'babel-plugin-syntax-jsx';\nimport BabelTypes from 'babel-types';\n\nconst defaultTagNames = [\n  'heredoc'\n];\n\nexport default ({\n  types: t\n}: {\n  types: BabelTypes\n}) => {\n  return {\n    inherits: babelPluginJsxSyntax,\n    visitor: {\n      JSXElement (path: Object, stats: Object): void {\n        const tagNames = stats.opts.tagNames || defaultTagNames;\n\n        if (!tagNames.includes(path.node.openingElement.name.name)) {\n          return;\n        }\n\n        if (path.node.children.length !== 1) {\n          throw new Error('Unexpected children count.');\n        }\n\n        const body = path.node.children[0];\n\n        if (!t.isJSXText(body)) {\n          throw new Error('Unexpected body node type.');\n        }\n\n        path.replaceWith(\n          t.stringLiteral(body.value)\n        );\n      }\n    }\n  };\n};\n"]}