'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _babelPluginSyntaxJsx = require('babel-plugin-syntax-jsx');

var _babelPluginSyntaxJsx2 = _interopRequireDefault(_babelPluginSyntaxJsx);

var _babelTypes = require('babel-types');

var _babelTypes2 = _interopRequireDefault(_babelTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const defaultTagNames = ['heredoc'];

exports.default = (_ref) => {
  let t = _ref.types;

  return {
    inherits: _babelPluginSyntaxJsx2.default,
    visitor: {
      JSXElement(path, stats) {
        const tagNames = stats.opts.tagNames || defaultTagNames;

        if (!tagNames.includes(path.node.openingElement.name.name)) {
          return;
        }

        if (path.node.children.length !== 1) {
          throw new Error('Unexpected children count.');
        }

        const body = path.node.children[0];

        if (!t.isJSXText(body)) {
          throw new Error('Unexpected body node type.');
        }

        path.replaceWith(t.stringLiteral(body.value));
      }
    }
  };
};
//# sourceMappingURL=index.js.map